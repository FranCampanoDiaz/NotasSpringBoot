<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Notas</title>
    <!-- CDN de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">

<div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold text-center mb-8 text-gray-800">Mis Notas</h1>

    <div id="notes-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Aquí se insertarán las notas -->
    </div>
</div>

<script>
    async function fetchNotes() {
        try {
            const response = await fetch('/api/notas');
            const notes = await response.json();
            renderNotes(notes);
        } catch (error) {
            console.error('Error al cargar notas:', error);
        }
    }

    function renderNotes(notes) {
        const container = document.getElementById('notes-container');
        container.innerHTML = '';

        if (notes.length === 0) {
            container.innerHTML = '<p class="text-gray-500">No hay notas disponibles.</p>';
            return;
        }

        notes.forEach(note => {
            const card = document.createElement('div');
            card.className = `
          bg-white p-6 rounded-lg shadow-md border-l-4
          ${note.completed ? 'border-green-500 bg-green-50' : 'border-yellow-500'}
        `;

            card.innerHTML = `
          <h3 class="text-xl font-semibold text-gray-800 mb-2">${note.title}</h3>
          <p class="text-gray-600 mb-4">${note.description}</p>
          <p class="text-sm">
            <span class="font-medium">Estado:</span>
            <span class="${note.completed ? 'text-green-700' : 'text-yellow-700'} font-semibold">
              ${note.completed ? 'Completada' : 'Pendiente'}
            </span>
          </p>
        `;

            container.appendChild(card);
        });
    }

    fetchNotes();
</script>

</body>
</html>
